# Обработка полученных заявок на рейтинговую стипендию
Модуль системы учета и оценки результатов деятельности студентов, в котором формируются приказы о начислении рейтинговой стипендии  исходя из критериев.

## Оглавление   
- [Описание](#Описание)
- [Как установить и запустить проект](#Установка)
    - [Установка парсера](#Парсер)
    - [Установка сервера](#Сервер)
    - [Установка клиента](#Клиент)
- [Использование](#Использование)
- [Документация API](#Документация_API)
    - [Запросы](#Запросы)

##  <a name="Описание"> Описание </a> 
**вставить gif?**
**Описать что делает приложение**

**технологии(можно иконками какими нибудь)**

Схема БД:
![Схема БД](https://github.com/KutenkovV/Student-Raiting/blob/Third-line/source/бд.png)

Архитектура приложения:
![Архитектура приложения](https://github.com/KutenkovV/Student-Raiting/blob/Third-line/source/fh%5Bbntrnehf%20ghbkj%3Btybz.png)


## <a name="Установка"> Как установить и запустить проект </a> 

### <a name="Парсер">  Установка парсера </a> 

1)открыть его в Visual Studio 

2)отредактировать в классе Program 4 раза строку var cs = "Host=localhost;Port=5432;Database=rating;Username=postgres;Password=root"; ,указав данные для своего подключения к БД 

3)запустить программу ,появиться консольное окно(закрыть его) и после этого работа парсера при загрузке должна работать норм.

### <a name="Сервер">  Установка сервера </a> 
Что бы запустить сервер надо:
1)Распаковать бэкап БД - файл BackUpEmpty
2)открыть терминал в папке server, выполнить команду: 
```
npm run dev
```
После этого вылезет `Server started on port 8080` ,значит все хорошо и сервер работает.
Так же при поступление запросов на сервер в консоли можно увидеть детальную информацию о поступающих запросах.

### <a name="Клиент">  Установка клиента </a> 

?????????????????????????????????????????????????????????????????????

##  <a name="Использование">  Использование </a> 
сделать очень простую инструкцию по использованию

##  <a name="Документация_API">Документация API </a> 

http://localhost:8080/api + запрос


### <a name="Запросы">  Запросы </a> 

#### Получение списка студентов с их заявками

```
GET	/listLoad/ud
GET	/listLoad/od
GET	/listLoad/sd	
GET	/listLoad/nid	
GET	/listLoad/ktd
```	
Получить список студентов с их заявками по направлениям на текущую дату. Если списки не были загружены, начался новый период рейтинга, а фронт запрашивает их, то возвращается пустота.

Пример как выводить поля из JSON ответа на запрос /listLoad/ud в соответствии со столбцами таблиц
```
{items.map((item) => (
            <tr key={item.id}>
              <td>{item.student.studnumber}</td>
              <td>{item.rating.points}</td>
              <td>{item.rating.ratingcourse.courselevel.level}</td>
              <td>{item.student.fullname}</td>
              <td>{item.student.educationgroup}</td>
              <td>{item.student.institute}</td>
              <td>{item.student.sad}</td>
              <td>{item.student.vacation}</td>
              <td>{item.student.free}</td>
            </tr>
          ))}
```


#### Получение списка студентов имеющих ГАС
```
GET	/listLoad/sad
```	
Возвращает список студентов имеющих ГАС. Если списки не были загружены, начался новый период рейтинга, а фронт запрашивает их, то возвращается пустота.

#### Получение списка студентов с КАНИКУЛАМИ
```
GET	/listLoad/vacation
```	
Возвращает список студентов с КАНИКУЛАМИ. Если списки не были загружены, начался новый период рейтинга, а фронт запрашивает их, то возвращается пустота.

#### Получение списка студентов со СВОБОДНЫМ ГРАФИКОМ
```
GET	/listLoad/free
```		
Возвращает список студентов со СВОБОДНЫМ ГРАФИКОМ. Если списки не были загружены, начался новый период рейтинга, а фронт запрашивает их, то возвращается пустота.

#### Загрузка заявок по направлениям
```
POST	/listLoad/all
```	
На вход файл любого из направлений

#### Загрузка списка студентов со СВОБОДНЫМ ГРАФИКОМ
```
POST	/listLoad/free
```	
На вход файл со списком студентов, имеющих свободный график

#### Загрузка списка студентов с КАНИКУЛАМИ
```
POST	/listLoad/vacation
```	
На вход файл со списком студентов, имеющих каникулы

#### Загрузка списка студентов имеющих ГАС
```
POST	/listLoad/sad
```	
На вход файл со списком студентов, имеющих ГАС

#### Получение количества мест по направлениям для настроек
```
GET	/ratingCount
```	
Возвращает список направлений с количеством мест

#### Получение 10% от ГАС
```
GET	/ratingCountFromSAD
```	
Возвращает 10% от числа человек получающих ГАС

#### Изменение количества мест по направлениям
```
PUT	/ratingCount
```	
Изменяет количество мест 

#### Получение списка студентов с их заявками с указанием будет ли рейтинговая 
```
GET	/ud
GET	/od	
GET	/sd	
GET	/nid	
GET	/ktd	
```	
Возвращает студентов с заявками, отсортированных по наличию, ГАС и баллам, с указанием будет ли рейтинговая 
 
#### Получение списка студентов которые подали на несколько направлений
```
GET	/studentRatingManyCourses
```	
Возвращает список студентов, которые подали на несколько направлений

#### Изменение направления *
```
PUT	/studentRatingManyCourses
```	
Определяет направление по которому студент будет получать стипендию, если он подал заявки в несколько направлений

#### Получение сводки
```
GET	/report
```	
Возвращает сводку 

#### Получение итогового списка
```
GET	/finalList
```	
Возвращает итоговый список




   
